actor: Views_uiTester
modules:
    enabled:
        - \Helper\Views_ui
        # see https://github.com/lucatume/wp-browser#modules to know the general ratio of each
        - WPWebDriver #browse
        - WPDb #manipulate the database and look up stuff
        - WPFilesystem #manipulate the WP filesystem, scaffold themes and plugins
        - Asserts #PHPUnit-like assertions
        - WPLoader
        - \Helper\TribeDb
    config:
      WPWebDriver:
        # We have to use a URL Chromedriver will be able to resolve.
        # See the `.env` file for more information.
        url: 'http://%WP_CHROMEDRIVER_URL%'
        # see codeception.dist.yml for the configuration
        adminUsername: %TEST_SITE_ADMIN_USERNAME%
        adminPassword: %TEST_SITE_ADMIN_PASSWORD%
        adminPath: '/wp-admin'
        browser: chrome
        host: %CHROME_HOST%
        port: %CHROME_PORT%
        window_size: false
        capabilities:
          chromeOptions:
            args: ["--headless", "--disable-gpu", "--proxy-server='direct://'", "--proxy-bypass-list=*" ]
      WPDb:
        dsn: 'mysql:host=%TEST_DB_HOST%;dbname=%TEST_DB_NAME%'
        user: %TEST_DB_USER%
        password: %TEST_DB_PASSWORD%
        dump: 'tests/_data/dump.sql'
        populate: true
        waitlock: 10
        cleanup: true
        reconnect: false
        url: '%TEST_SITE_WP_URL%'
        tablePrefix: 'wp_'
      WPFilesystem:
        wpRootFolder: '%WP_ROOT_FOLDER%'
        themes: '/wp-content/themes'
        plugins: '/wp-content/plugins'
        mu-plugins: '/wp-content/mu-plugins'
        uploads: '/wp-content/uploads'
      WPLoader:
        # just load WordPress using the same db as WPDb
        loadOnly: true
        wpRootFolder: %WP_ROOT_FOLDER%
        dbName: %TEST_DB_NAME%
        dbHost: %TEST_DB_HOST%
        dbUser: %TEST_DB_USER%
        dbPassword: '%TEST_DB_PASSWORD%'
